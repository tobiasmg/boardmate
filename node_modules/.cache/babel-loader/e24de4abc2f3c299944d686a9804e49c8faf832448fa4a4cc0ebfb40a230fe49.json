{"ast":null,"code":"var _jsxFileName = \"/Users/tgira1018/chess-training-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ChevronLeft, RotateCcw, Play, BookOpen, Target } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChessTrainingApp = () => {\n  _s();\n  // State for responsive design\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Initial board setup\n  const initialBoard = [['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'], ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'], ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']];\n  const [board, setBoard] = useState(initialBoard);\n  const [selectedSquare, setSelectedSquare] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('white');\n  const [moveHistory, setMoveHistory] = useState([]);\n  const [gameMode, setGameMode] = useState('menu');\n  const [trainingMode, setTrainingMode] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState({\n    correct: 0,\n    total: 0\n  });\n\n  // Opening databases\n  const openingDatabases = {\n    sicilianDragon: {\n      name: \"Sicilian Defence - Accelerated Dragon\",\n      color: \"black\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"c7-c5\"],\n        \"e2-e4,c7-c5\": [\"g1-f3\"],\n        \"e2-e4,c7-c5,g1-f3\": [\"g7-g6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6\": [\"d2-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4\": [\"c5-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4\": [\"f3-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4\": [\"f8-g7\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7\": [\"c2-c4\", \"b1-c3\", \"f2-f3\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,c2-c4\": [\"b8-c6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,b1-c3\": [\"b8-c6\"]\n      }\n    },\n    scotchGame: {\n      name: \"Scotch Game\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f3-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4\": [\"f8-c5\", \"g8-f6\", \"d8-h4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,f8-c5\": [\"d4-b5\", \"d4-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,g8-f6\": [\"d4-c6\", \"b1-c3\"]\n      }\n    },\n    scotchGambit: {\n      name: \"Scotch Gambit\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f1-c4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4\": [\"f8-c5\", \"g8-f6\", \"f7-f5\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,f8-c5\": [\"c2-c3\", \"e1-g1\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,g8-f6\": [\"e4-e5\", \"c2-c3\"]\n      }\n    }\n  };\n\n  // Piece Unicode symbols (chess.com style)\n  const pieceSymbols = {\n    'K': '♔',\n    'Q': '♕',\n    'R': '♖',\n    'B': '♗',\n    'N': '♘',\n    'P': '♙',\n    'k': '♚',\n    'q': '♛',\n    'r': '♜',\n    'b': '♝',\n    'n': '♞',\n    'p': '♟'\n  };\n\n  // Helper function to get display coordinates (flipped for black)\n  const getDisplayCoordinates = (row, col) => {\n    var _openingDatabases$tra;\n    if (trainingMode && ((_openingDatabases$tra = openingDatabases[trainingMode]) === null || _openingDatabases$tra === void 0 ? void 0 : _openingDatabases$tra.color) === 'black') {\n      // Flip the board when playing as black\n      return [7 - row, 7 - col];\n    }\n    return [row, col];\n  };\n\n  // Helper functions\n  const getSquareName = (row, col) => {\n    return String.fromCharCode(97 + col) + (8 - row);\n  };\n  const parseSquareName = square => {\n    const col = square.charCodeAt(0) - 97;\n    const row = 8 - parseInt(square[1]);\n    return [row, col];\n  };\n  const isPieceWhite = piece => piece && piece === piece.toUpperCase();\n  const isValidMove = (fromRow, fromCol, toRow, toCol, piece) => {\n    if (toRow < 0 || toRow >= 8 || toCol < 0 || toCol >= 8) return false;\n    const targetPiece = board[toRow][toCol];\n    if (targetPiece && isPieceWhite(piece) === isPieceWhite(targetPiece)) return false;\n    const rowDiff = Math.abs(toRow - fromRow);\n    const colDiff = Math.abs(toCol - fromCol);\n    const piece_type = piece.toLowerCase();\n    switch (piece_type) {\n      case 'p':\n        const direction = isPieceWhite(piece) ? -1 : 1;\n        const startRow = isPieceWhite(piece) ? 6 : 1;\n        if (toCol === fromCol) {\n          if (toRow === fromRow + direction && !targetPiece) return true;\n          if (fromRow === startRow && toRow === fromRow + 2 * direction && !targetPiece) return true;\n        } else if (Math.abs(toCol - fromCol) === 1 && toRow === fromRow + direction) {\n          return !!targetPiece;\n        }\n        return false;\n      case 'r':\n        return (rowDiff === 0 || colDiff === 0) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'n':\n        return rowDiff === 2 && colDiff === 1 || rowDiff === 1 && colDiff === 2;\n      case 'b':\n        return rowDiff === colDiff && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'q':\n        return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'k':\n        return rowDiff <= 1 && colDiff <= 1;\n      default:\n        return false;\n    }\n  };\n  const isPathBlocked = (fromRow, fromCol, toRow, toCol) => {\n    const rowDir = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\n    const colDir = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\n    let currentRow = fromRow + rowDir;\n    let currentCol = fromCol + colDir;\n    while (currentRow !== toRow || currentCol !== toCol) {\n      if (board[currentRow][currentCol]) return true;\n      currentRow += rowDir;\n      currentCol += colDir;\n    }\n    return false;\n  };\n  const makeMove = (fromRow, fromCol, toRow, toCol) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n    console.log(`Making move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n    const updatedMoveHistory = [...moveHistory, moveNotation];\n    setBoard(newBoard);\n    setMoveHistory(updatedMoveHistory);\n    setCurrentPlayer(prevPlayer => prevPlayer === 'white' ? 'black' : 'white');\n    console.log('Updated move history:', updatedMoveHistory);\n    return {\n      moveNotation,\n      updatedMoveHistory\n    };\n  };\n  const makeOpponentMove = currentMoveHistory => {\n    console.log('makeOpponentMove called');\n    console.log('Current moveHistory when making opponent move:', currentMoveHistory);\n    const opening = openingDatabases[trainingMode];\n    const nextMoveKey = currentMoveHistory.join(',');\n    const opponentMoves = opening.moves[nextMoveKey];\n    console.log('Looking for opponent move with key:', `\"${nextMoveKey}\"`);\n    console.log('Available moves for this key:', opponentMoves);\n    console.log('All available keys in database:', Object.keys(opening.moves));\n    if (opponentMoves && opponentMoves.length > 0) {\n      // Wait a bit to simulate thinking time\n      setTimeout(() => {\n        const opponentMove = opponentMoves[Math.floor(Math.random() * opponentMoves.length)];\n        console.log('Selected opponent move:', opponentMove);\n        const [fromSquare, toSquare] = opponentMove.split('-');\n        const [fromRow, fromCol] = parseSquareName(fromSquare);\n        const [toRow, toCol] = parseSquareName(toSquare);\n        console.log(`Opponent moving from ${fromSquare} to ${toSquare}`);\n\n        // Make the opponent move using the current move history\n        makeOpponentMoveWithHistory(fromRow, fromCol, toRow, toCol, currentMoveHistory);\n\n        // Wait a moment for state to update, then set feedback\n        setTimeout(() => {\n          setFeedback('Your turn!');\n        }, 100);\n      }, 600);\n    } else {\n      console.log('No opponent moves found for key:', `\"${nextMoveKey}\"`);\n      setFeedback('End of opening line - great job!');\n    }\n  };\n  const makeOpponentMoveWithHistory = (fromRow, fromCol, toRow, toCol, currentMoveHistory) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n    console.log(`Making opponent move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n    const updatedMoveHistory = [...currentMoveHistory, moveNotation];\n    setBoard(newBoard);\n    setMoveHistory(updatedMoveHistory);\n    setCurrentPlayer(prevPlayer => prevPlayer === 'white' ? 'black' : 'white');\n    console.log('Updated move history after opponent move:', updatedMoveHistory);\n    console.log('Current player after opponent move:', currentPlayer === 'white' ? 'black' : 'white');\n  };\n  const checkMove = (userMove, currentMoveHistory) => {\n    const opening = openingDatabases[trainingMode];\n    // Use the moveHistory that was passed in, excluding the user's move we just made\n    const moveKey = currentMoveHistory.slice(0, -1).join(',');\n    const expectedMoves = opening.moves[moveKey] || [];\n    console.log('Checking user move:', userMove);\n    console.log('Current move history:', currentMoveHistory);\n    console.log('Move key for lookup:', `\"${moveKey}\"`);\n    console.log('Expected moves:', expectedMoves);\n    if (expectedMoves.includes(userMove)) {\n      setFeedback('✓ Correct move!');\n      setScore(prev => ({\n        correct: prev.correct + 1,\n        total: prev.total + 1\n      }));\n\n      // Wait for move to be processed, then make opponent move\n      setTimeout(() => {\n        setFeedback('Opponent is thinking...');\n        // Wait a bit more for React state to update, then pass the current move history\n        setTimeout(() => {\n          makeOpponentMove(currentMoveHistory);\n        }, 300);\n      }, 500);\n    } else {\n      setFeedback(`✗ Not the best move. Try: ${expectedMoves.join(' or ')}`);\n      setScore(prev => ({\n        correct: prev.correct,\n        total: prev.total + 1\n      }));\n\n      // Clear feedback but don't make opponent move since user move was wrong\n      setTimeout(() => {\n        setFeedback('');\n      }, 3000);\n    }\n  };\n  const handleSquareClick = (displayRow, displayCol) => {\n    var _openingDatabases$tra2;\n    if (gameMode !== 'training') return;\n\n    // Convert display coordinates to actual board coordinates\n    let row, col;\n    if (trainingMode && ((_openingDatabases$tra2 = openingDatabases[trainingMode]) === null || _openingDatabases$tra2 === void 0 ? void 0 : _openingDatabases$tra2.color) === 'black') {\n      // Flip back to get actual board coordinates\n      row = 7 - displayRow;\n      col = 7 - displayCol;\n    } else {\n      row = displayRow;\n      col = displayCol;\n    }\n    const opening = openingDatabases[trainingMode];\n    const piece = board[row][col];\n\n    // Check if it's the user's turn\n    const isUserTurn = opening.color === 'white' && currentPlayer === 'white' || opening.color === 'black' && currentPlayer === 'black';\n    if (!isUserTurn) {\n      setFeedback('Wait for opponent to move...');\n      setTimeout(() => setFeedback(''), 1000);\n      return;\n    }\n    if (selectedSquare) {\n      const [fromRow, fromCol] = selectedSquare;\n      const fromPiece = board[fromRow][fromCol];\n      if (row === fromRow && col === fromCol) {\n        setSelectedSquare(null);\n        return;\n      }\n      if (isValidMove(fromRow, fromCol, row, col, fromPiece)) {\n        const {\n          moveNotation,\n          updatedMoveHistory\n        } = makeMove(fromRow, fromCol, row, col);\n        checkMove(moveNotation, updatedMoveHistory);\n        setSelectedSquare(null);\n      } else {\n        setSelectedSquare(piece && isPieceWhite(piece) === (currentPlayer === 'white') ? [row, col] : null);\n      }\n    } else {\n      if (piece && isPieceWhite(piece) === (currentPlayer === 'white')) {\n        setSelectedSquare([row, col]);\n      }\n    }\n  };\n  const startTraining = mode => {\n    console.log('Starting training for mode:', mode);\n    setTrainingMode(mode);\n    setGameMode('training');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n    setScore({\n      correct: 0,\n      total: 0\n    });\n\n    // Set the correct starting player based on opening\n    const opening = openingDatabases[mode];\n    if (opening.color === 'black') {\n      // If training as black, white moves first\n      console.log('Training as black - white will move first');\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after a short delay\n      setTimeout(() => {\n        console.log('Making automatic first white move');\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n        console.log('First move from database:', firstMove);\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n          console.log(`Making first move: ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      // If training as white, user moves first\n      console.log('Training as white - you move first');\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n  const resetGame = () => {\n    console.log('Resetting game');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n\n    // Reset to correct starting player and make first move if needed\n    const opening = openingDatabases[trainingMode];\n    if (opening.color === 'black') {\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after reset\n      setTimeout(() => {\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n          console.log(`Reset: Making first move ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n  const backToMenu = () => {\n    setGameMode('menu');\n    setTrainingMode(null);\n  };\n\n  // Styles\n  const styles = {\n    container: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #fef7cd 0%, #fed7aa 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'\n    },\n    wrapper: {\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    header: {\n      textAlign: 'center',\n      marginBottom: '40px'\n    },\n    title: {\n      fontSize: '2.5rem',\n      color: '#92400e',\n      marginBottom: '10px',\n      fontWeight: 'bold'\n    },\n    subtitle: {\n      color: '#a16207',\n      fontSize: '1.1rem'\n    },\n    grid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n      gap: '30px',\n      marginBottom: '40px'\n    },\n    card: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '30px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      cursor: 'pointer',\n      transition: 'transform 0.2s'\n    },\n    cardHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '20px',\n      fontSize: '1.5rem',\n      fontWeight: '600'\n    },\n    cardText: {\n      color: '#6b7280',\n      marginBottom: '20px',\n      lineHeight: '1.6'\n    },\n    button: {\n      width: '100%',\n      padding: '12px 20px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: '600',\n      fontSize: '1rem',\n      cursor: 'pointer',\n      color: 'white'\n    },\n    gameHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '30px',\n      flexWrap: 'wrap',\n      gap: '20px'\n    },\n    navButton: {\n      display: 'flex',\n      alignItems: 'center',\n      background: 'none',\n      border: 'none',\n      color: '#a16207',\n      fontSize: '1rem',\n      cursor: 'pointer'\n    },\n    gameTitle: {\n      textAlign: 'center'\n    },\n    gameLayout: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      gap: '30px',\n      flexWrap: 'wrap'\n    },\n    boardContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px'\n    },\n    boardWrapper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      position: 'relative'\n    },\n    board: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(8, 1fr)',\n      gridTemplateRows: 'repeat(8, 1fr)',\n      width: isMobile ? '350px' : '500px',\n      height: isMobile ? '350px' : '500px',\n      border: '3px solid #8B4513',\n      borderRadius: '4px',\n      overflow: 'hidden',\n      boxShadow: '0 4px 20px rgba(0, 0, 0, 0.3)'\n    },\n    square: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: isMobile ? '2.8rem' : '3.8rem',\n      cursor: 'pointer',\n      transition: 'background-color 0.15s ease, border 0.15s ease',\n      userSelect: 'none',\n      fontWeight: 'bold',\n      width: '100%',\n      height: '100%',\n      minWidth: 0,\n      minHeight: 0,\n      boxSizing: 'border-box'\n    },\n    sidebar: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '20px',\n      width: isMobile ? '100%' : '350px',\n      maxWidth: '500px'\n    },\n    infoCard: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '20px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n    },\n    infoTitle: {\n      fontSize: '1.2rem',\n      fontWeight: '600',\n      marginBottom: '15px',\n      color: '#374151'\n    }\n  };\n  if (gameMode === 'menu') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.header,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: styles.title,\n            children: \"Chess Opening Trainer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.subtitle,\n            children: \"Master your favorite openings against AI opposition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.grid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('sicilianDragon'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#dc2626'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Target, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Sicilian Dragon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Practice the Accelerated Dragon as Black. White moves automatically - you learn the best responses!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#dc2626'\n              },\n              children: \"Train as Black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('scotchGame'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#2563eb'\n              },\n              children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Scotch Game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Learn the Scotch Game as White. Black moves automatically - focus on mastering your attacking lines!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#2563eb'\n              },\n              children: \"Train as White\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('scotchGambit'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#16a34a'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Scotch Gambit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Master the Scotch Gambit as White. Black responds automatically - learn the aggressive sacrificial lines!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#16a34a'\n              },\n              children: \"Train as White\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'white',\n            borderRadius: '12px',\n            padding: '30px',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '1.5rem',\n              marginBottom: '20px',\n              color: '#374151'\n            },\n            children: \"How it works\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  fontWeight: '600',\n                  marginBottom: '10px',\n                  color: '#374151'\n                },\n                children: \"\\uD83C\\uDFAF Focus on Your Side\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#6b7280',\n                  fontSize: '0.9rem',\n                  lineHeight: '1.5'\n                },\n                children: \"The opponent moves automatically based on opening theory. You only need to learn your moves!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  fontWeight: '600',\n                  marginBottom: '10px',\n                  color: '#374151'\n                },\n                children: \"\\uD83E\\uDD16 Smart AI Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#6b7280',\n                  fontSize: '0.9rem',\n                  lineHeight: '1.5'\n                },\n                children: \"AI plays realistic variations from grandmaster games. Learn to handle different responses.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  fontWeight: '600',\n                  marginBottom: '10px',\n                  color: '#374151'\n                },\n                children: \"\\uD83D\\uDCC8 Immediate Feedback\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#6b7280',\n                  fontSize: '0.9rem',\n                  lineHeight: '1.5'\n                },\n                children: \"Get instant feedback on your moves. Learn the best responses for each position.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              padding: '15px',\n              backgroundColor: '#f0f9ff',\n              borderRadius: '8px',\n              border: '1px solid #0ea5e9'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#0c4a6e',\n                fontSize: '0.9rem',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCA1 Tip:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 17\n              }, this), \" Wait for the opponent to move automatically, then make your best move. The AI will show you when it's your turn!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this);\n  }\n  const opening = openingDatabases[trainingMode];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.gameHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.navButton,\n          onClick: backToMenu,\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 20,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this), \"Back to Menu\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.gameTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '2rem',\n              color: '#92400e',\n              marginBottom: '5px'\n            },\n            children: opening.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#a16207'\n            },\n            children: [\"Playing as \", opening.color]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.navButton,\n          onClick: resetGame,\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 20,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), \"Reset\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.gameLayout,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.boardContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.boardWrapper,\n            children: [trainingMode && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '10px',\n                textAlign: 'center',\n                color: '#a16207',\n                fontSize: '0.9rem',\n                fontWeight: '600'\n              },\n              children: openingDatabases[trainingMode].color === 'black' ? '♟ Playing as Black (Black pieces at bottom)' : '♙ Playing as White (White pieces at bottom)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.board,\n              children: board.flatMap((row, rowIndex) => row.map((piece, colIndex) => {\n                // Get display coordinates (potentially flipped)\n                const [displayRow, displayCol] = getDisplayCoordinates(rowIndex, colIndex);\n                const isLightSquare = (displayRow + displayCol) % 2 === 0;\n                const isSelected = selectedSquare && selectedSquare[0] === rowIndex && selectedSquare[1] === colIndex;\n\n                // Chess.com style colors\n                let backgroundColor;\n                if (isSelected) {\n                  backgroundColor = '#f7dc6f'; // Yellow highlight for selected\n                } else {\n                  backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863'; // Chess.com colors\n                }\n\n                // Enhanced piece styling for chess.com look\n                const pieceColor = isPieceWhite(piece) ? '#ffffff' : '#000000';\n                const textShadow = isPieceWhite(piece) ? '1px 1px 2px rgba(0,0,0,0.8), 0 0 3px rgba(0,0,0,0.3)' : '1px 1px 2px rgba(255,255,255,0.4), 0 0 2px rgba(255,255,255,0.2)';\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.square,\n                    backgroundColor,\n                    border: isSelected ? '2px solid #f39c12' : 'none',\n                    color: pieceColor,\n                    textShadow: piece ? textShadow : 'none',\n                    // Position this square at its display coordinates\n                    gridColumn: displayCol + 1,\n                    gridRow: displayRow + 1\n                  },\n                  onClick: () => handleSquareClick(displayRow, displayCol),\n                  onMouseEnter: e => {\n                    if (!isSelected) {\n                      e.target.style.backgroundColor = isLightSquare ? '#ead5aa' : '#a67c52';\n                    }\n                  },\n                  onMouseLeave: e => {\n                    if (!isSelected) {\n                      e.target.style.backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863';\n                    }\n                  },\n                  children: piece && pieceSymbols[piece]\n                }, `${rowIndex}-${colIndex}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 23\n                }, this);\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.sidebar,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Game Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginBottom: '8px',\n                color: '#6b7280'\n              },\n              children: [\"Current turn: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  textTransform: 'capitalize',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: currentPlayer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6b7280'\n              },\n              children: [\"Move: \", Math.ceil(moveHistory.length / 2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: '8px',\n                fontWeight: '600',\n                color: opening.color === 'white' && currentPlayer === 'white' || opening.color === 'black' && currentPlayer === 'black' ? '#16a34a' : '#ea580c'\n              },\n              children: opening.color === 'white' && currentPlayer === 'white' || opening.color === 'black' && currentPlayer === 'black' ? 'Your turn!' : 'Opponent thinking...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                color: '#374151',\n                marginBottom: '8px'\n              },\n              children: [score.correct, \"/\", score.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: '#6b7280'\n              },\n              children: score.total > 0 ? `${Math.round(score.correct / score.total * 100)}% accuracy` : 'No moves yet'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 13\n          }, this), feedback && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              borderRadius: '12px',\n              padding: '20px',\n              fontWeight: '600',\n              backgroundColor: feedback.includes('✓') ? '#dcfce7' : '#fef2f2',\n              color: feedback.includes('✓') ? '#166534' : '#991b1b',\n              border: feedback.includes('✓') ? '2px solid #22c55e' : '2px solid #ef4444'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Move History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '200px',\n                overflowY: 'auto',\n                fontSize: '0.9rem'\n              },\n              children: moveHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#9ca3af',\n                  fontStyle: 'italic'\n                },\n                children: \"No moves yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 19\n              }, this) : moveHistory.map((move, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  marginBottom: '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    width: '30px',\n                    color: '#9ca3af'\n                  },\n                  children: [Math.ceil((index + 1) / 2), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 792,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: index % 2 === 0 ? '#374151' : '#6b7280'\n                  },\n                  children: move\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 793,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 649,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessTrainingApp, \"osEhUbGhLsw30rSdyfAi1+Jz9OI=\");\n_c = ChessTrainingApp;\nexport default ChessTrainingApp;\nvar _c;\n$RefreshReg$(_c, \"ChessTrainingApp\");","map":{"version":3,"names":["React","useState","useEffect","ChevronLeft","RotateCcw","Play","BookOpen","Target","jsxDEV","_jsxDEV","ChessTrainingApp","_s","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","initialBoard","board","setBoard","selectedSquare","setSelectedSquare","currentPlayer","setCurrentPlayer","moveHistory","setMoveHistory","gameMode","setGameMode","trainingMode","setTrainingMode","feedback","setFeedback","score","setScore","correct","total","openingDatabases","sicilianDragon","name","color","moves","scotchGame","scotchGambit","pieceSymbols","getDisplayCoordinates","row","col","_openingDatabases$tra","getSquareName","String","fromCharCode","parseSquareName","square","charCodeAt","parseInt","isPieceWhite","piece","toUpperCase","isValidMove","fromRow","fromCol","toRow","toCol","targetPiece","rowDiff","Math","abs","colDiff","piece_type","toLowerCase","direction","startRow","isPathBlocked","rowDir","colDir","currentRow","currentCol","makeMove","newBoard","map","console","log","moveNotation","updatedMoveHistory","prevPlayer","makeOpponentMove","currentMoveHistory","opening","nextMoveKey","join","opponentMoves","Object","keys","length","setTimeout","opponentMove","floor","random","fromSquare","toSquare","split","makeOpponentMoveWithHistory","checkMove","userMove","moveKey","slice","expectedMoves","includes","prev","handleSquareClick","displayRow","displayCol","_openingDatabases$tra2","isUserTurn","fromPiece","startTraining","mode","firstMove","resetGame","backToMenu","styles","container","minHeight","background","padding","fontFamily","wrapper","maxWidth","margin","header","textAlign","marginBottom","title","fontSize","fontWeight","subtitle","grid","display","gridTemplateColumns","gap","card","borderRadius","boxShadow","cursor","transition","cardHeader","alignItems","cardText","lineHeight","button","width","border","gameHeader","justifyContent","flexWrap","navButton","gameTitle","gameLayout","boardContainer","flexDirection","boardWrapper","position","gridTemplateRows","height","overflow","userSelect","minWidth","boxSizing","sidebar","infoCard","infoTitle","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","marginLeft","backgroundColor","marginTop","marginRight","flatMap","rowIndex","colIndex","isLightSquare","isSelected","pieceColor","textShadow","gridColumn","gridRow","onMouseEnter","e","target","onMouseLeave","textTransform","ceil","round","maxHeight","overflowY","fontStyle","move","index","_c","$RefreshReg$"],"sources":["/Users/tgira1018/chess-training-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ChevronLeft, RotateCcw, Play, BookOpen, Target } from 'lucide-react';\n\nconst ChessTrainingApp = () => {\n  // State for responsive design\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Initial board setup\n  const initialBoard = [\n    ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n    ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n    ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']\n  ];\n\n  const [board, setBoard] = useState(initialBoard);\n  const [selectedSquare, setSelectedSquare] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('white');\n  const [moveHistory, setMoveHistory] = useState([]);\n  const [gameMode, setGameMode] = useState('menu');\n  const [trainingMode, setTrainingMode] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState({ correct: 0, total: 0 });\n\n  // Opening databases\n  const openingDatabases = {\n    sicilianDragon: {\n      name: \"Sicilian Defence - Accelerated Dragon\",\n      color: \"black\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"c7-c5\"],\n        \"e2-e4,c7-c5\": [\"g1-f3\"],\n        \"e2-e4,c7-c5,g1-f3\": [\"g7-g6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6\": [\"d2-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4\": [\"c5-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4\": [\"f3-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4\": [\"f8-g7\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7\": [\"c2-c4\", \"b1-c3\", \"f2-f3\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,c2-c4\": [\"b8-c6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,b1-c3\": [\"b8-c6\"],\n      }\n    },\n    scotchGame: {\n      name: \"Scotch Game\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f3-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4\": [\"f8-c5\", \"g8-f6\", \"d8-h4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,f8-c5\": [\"d4-b5\", \"d4-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,g8-f6\": [\"d4-c6\", \"b1-c3\"],\n      }\n    },\n    scotchGambit: {\n      name: \"Scotch Gambit\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f1-c4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4\": [\"f8-c5\", \"g8-f6\", \"f7-f5\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,f8-c5\": [\"c2-c3\", \"e1-g1\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,g8-f6\": [\"e4-e5\", \"c2-c3\"],\n      }\n    }\n  };\n\n  // Piece Unicode symbols (chess.com style)\n  const pieceSymbols = {\n    'K': '♔', 'Q': '♕', 'R': '♖', 'B': '♗', 'N': '♘', 'P': '♙',\n    'k': '♚', 'q': '♛', 'r': '♜', 'b': '♝', 'n': '♞', 'p': '♟'\n  };\n\n  // Helper function to get display coordinates (flipped for black)\n  const getDisplayCoordinates = (row, col) => {\n    if (trainingMode && openingDatabases[trainingMode]?.color === 'black') {\n      // Flip the board when playing as black\n      return [7 - row, 7 - col];\n    }\n    return [row, col];\n  };\n\n  // Helper functions\n  const getSquareName = (row, col) => {\n    return String.fromCharCode(97 + col) + (8 - row);\n  };\n\n  const parseSquareName = (square) => {\n    const col = square.charCodeAt(0) - 97;\n    const row = 8 - parseInt(square[1]);\n    return [row, col];\n  };\n\n  const isPieceWhite = (piece) => piece && piece === piece.toUpperCase();\n\n  const isValidMove = (fromRow, fromCol, toRow, toCol, piece) => {\n    if (toRow < 0 || toRow >= 8 || toCol < 0 || toCol >= 8) return false;\n\n    const targetPiece = board[toRow][toCol];\n    if (targetPiece && isPieceWhite(piece) === isPieceWhite(targetPiece)) return false;\n\n    const rowDiff = Math.abs(toRow - fromRow);\n    const colDiff = Math.abs(toCol - fromCol);\n    const piece_type = piece.toLowerCase();\n\n    switch (piece_type) {\n      case 'p':\n        const direction = isPieceWhite(piece) ? -1 : 1;\n        const startRow = isPieceWhite(piece) ? 6 : 1;\n\n        if (toCol === fromCol) {\n          if (toRow === fromRow + direction && !targetPiece) return true;\n          if (fromRow === startRow && toRow === fromRow + 2 * direction && !targetPiece) return true;\n        } else if (Math.abs(toCol - fromCol) === 1 && toRow === fromRow + direction) {\n          return !!targetPiece;\n        }\n        return false;\n\n      case 'r':\n        return (rowDiff === 0 || colDiff === 0) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'n':\n        return (rowDiff === 2 && colDiff === 1) || (rowDiff === 1 && colDiff === 2);\n\n      case 'b':\n        return rowDiff === colDiff && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'q':\n        return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'k':\n        return rowDiff <= 1 && colDiff <= 1;\n\n      default:\n        return false;\n    }\n  };\n\n  const isPathBlocked = (fromRow, fromCol, toRow, toCol) => {\n    const rowDir = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\n    const colDir = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\n\n    let currentRow = fromRow + rowDir;\n    let currentCol = fromCol + colDir;\n\n    while (currentRow !== toRow || currentCol !== toCol) {\n      if (board[currentRow][currentCol]) return true;\n      currentRow += rowDir;\n      currentCol += colDir;\n    }\n\n    return false;\n  };\n\n  const makeMove = (fromRow, fromCol, toRow, toCol) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n\n    console.log(`Making move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n    const updatedMoveHistory = [...moveHistory, moveNotation];\n\n    setBoard(newBoard);\n    setMoveHistory(updatedMoveHistory);\n    setCurrentPlayer(prevPlayer => prevPlayer === 'white' ? 'black' : 'white');\n\n    console.log('Updated move history:', updatedMoveHistory);\n\n    return { moveNotation, updatedMoveHistory };\n  };\n\n  const makeOpponentMove = (currentMoveHistory) => {\n    console.log('makeOpponentMove called');\n    console.log('Current moveHistory when making opponent move:', currentMoveHistory);\n\n    const opening = openingDatabases[trainingMode];\n    const nextMoveKey = currentMoveHistory.join(',');\n    const opponentMoves = opening.moves[nextMoveKey];\n\n    console.log('Looking for opponent move with key:', `\"${nextMoveKey}\"`);\n    console.log('Available moves for this key:', opponentMoves);\n    console.log('All available keys in database:', Object.keys(opening.moves));\n\n    if (opponentMoves && opponentMoves.length > 0) {\n      // Wait a bit to simulate thinking time\n      setTimeout(() => {\n        const opponentMove = opponentMoves[Math.floor(Math.random() * opponentMoves.length)];\n        console.log('Selected opponent move:', opponentMove);\n        const [fromSquare, toSquare] = opponentMove.split('-');\n        const [fromRow, fromCol] = parseSquareName(fromSquare);\n        const [toRow, toCol] = parseSquareName(toSquare);\n\n        console.log(`Opponent moving from ${fromSquare} to ${toSquare}`);\n\n        // Make the opponent move using the current move history\n        makeOpponentMoveWithHistory(fromRow, fromCol, toRow, toCol, currentMoveHistory);\n\n        // Wait a moment for state to update, then set feedback\n        setTimeout(() => {\n          setFeedback('Your turn!');\n        }, 100);\n      }, 600);\n    } else {\n      console.log('No opponent moves found for key:', `\"${nextMoveKey}\"`);\n      setFeedback('End of opening line - great job!');\n    }\n  };\n\n  const makeOpponentMoveWithHistory = (fromRow, fromCol, toRow, toCol, currentMoveHistory) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n\n    console.log(`Making opponent move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n    const updatedMoveHistory = [...currentMoveHistory, moveNotation];\n\n    setBoard(newBoard);\n    setMoveHistory(updatedMoveHistory);\n    setCurrentPlayer(prevPlayer => prevPlayer === 'white' ? 'black' : 'white');\n\n    console.log('Updated move history after opponent move:', updatedMoveHistory);\n    console.log('Current player after opponent move:', currentPlayer === 'white' ? 'black' : 'white');\n  };\n\n  const checkMove = (userMove, currentMoveHistory) => {\n    const opening = openingDatabases[trainingMode];\n    // Use the moveHistory that was passed in, excluding the user's move we just made\n    const moveKey = currentMoveHistory.slice(0, -1).join(',');\n    const expectedMoves = opening.moves[moveKey] || [];\n\n    console.log('Checking user move:', userMove);\n    console.log('Current move history:', currentMoveHistory);\n    console.log('Move key for lookup:', `\"${moveKey}\"`);\n    console.log('Expected moves:', expectedMoves);\n\n    if (expectedMoves.includes(userMove)) {\n      setFeedback('✓ Correct move!');\n      setScore(prev => ({ correct: prev.correct + 1, total: prev.total + 1 }));\n\n      // Wait for move to be processed, then make opponent move\n      setTimeout(() => {\n        setFeedback('Opponent is thinking...');\n        // Wait a bit more for React state to update, then pass the current move history\n        setTimeout(() => {\n          makeOpponentMove(currentMoveHistory);\n        }, 300);\n      }, 500);\n    } else {\n      setFeedback(`✗ Not the best move. Try: ${expectedMoves.join(' or ')}`);\n      setScore(prev => ({ correct: prev.correct, total: prev.total + 1 }));\n\n      // Clear feedback but don't make opponent move since user move was wrong\n      setTimeout(() => {\n        setFeedback('');\n      }, 3000);\n    }\n  };\n\n  const handleSquareClick = (displayRow, displayCol) => {\n    if (gameMode !== 'training') return;\n\n    // Convert display coordinates to actual board coordinates\n    let row, col;\n    if (trainingMode && openingDatabases[trainingMode]?.color === 'black') {\n      // Flip back to get actual board coordinates\n      row = 7 - displayRow;\n      col = 7 - displayCol;\n    } else {\n      row = displayRow;\n      col = displayCol;\n    }\n\n    const opening = openingDatabases[trainingMode];\n    const piece = board[row][col];\n\n    // Check if it's the user's turn\n    const isUserTurn = (opening.color === 'white' && currentPlayer === 'white') ||\n                       (opening.color === 'black' && currentPlayer === 'black');\n\n    if (!isUserTurn) {\n      setFeedback('Wait for opponent to move...');\n      setTimeout(() => setFeedback(''), 1000);\n      return;\n    }\n\n    if (selectedSquare) {\n      const [fromRow, fromCol] = selectedSquare;\n      const fromPiece = board[fromRow][fromCol];\n\n      if (row === fromRow && col === fromCol) {\n        setSelectedSquare(null);\n        return;\n      }\n\n      if (isValidMove(fromRow, fromCol, row, col, fromPiece)) {\n        const { moveNotation, updatedMoveHistory } = makeMove(fromRow, fromCol, row, col);\n        checkMove(moveNotation, updatedMoveHistory);\n        setSelectedSquare(null);\n      } else {\n        setSelectedSquare(piece && isPieceWhite(piece) === (currentPlayer === 'white') ? [row, col] : null);\n      }\n    } else {\n      if (piece && isPieceWhite(piece) === (currentPlayer === 'white')) {\n        setSelectedSquare([row, col]);\n      }\n    }\n  };\n\n  const startTraining = (mode) => {\n    console.log('Starting training for mode:', mode);\n    setTrainingMode(mode);\n    setGameMode('training');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n    setScore({ correct: 0, total: 0 });\n\n    // Set the correct starting player based on opening\n    const opening = openingDatabases[mode];\n    if (opening.color === 'black') {\n      // If training as black, white moves first\n      console.log('Training as black - white will move first');\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after a short delay\n      setTimeout(() => {\n        console.log('Making automatic first white move');\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n        console.log('First move from database:', firstMove);\n\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n\n          console.log(`Making first move: ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      // If training as white, user moves first\n      console.log('Training as white - you move first');\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n\n  const resetGame = () => {\n    console.log('Resetting game');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n\n    // Reset to correct starting player and make first move if needed\n    const opening = openingDatabases[trainingMode];\n    if (opening.color === 'black') {\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after reset\n      setTimeout(() => {\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n\n          console.log(`Reset: Making first move ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n\n  const backToMenu = () => {\n    setGameMode('menu');\n    setTrainingMode(null);\n  };\n\n  // Styles\n  const styles = {\n    container: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #fef7cd 0%, #fed7aa 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'\n    },\n    wrapper: {\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    header: {\n      textAlign: 'center',\n      marginBottom: '40px'\n    },\n    title: {\n      fontSize: '2.5rem',\n      color: '#92400e',\n      marginBottom: '10px',\n      fontWeight: 'bold'\n    },\n    subtitle: {\n      color: '#a16207',\n      fontSize: '1.1rem'\n    },\n    grid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n      gap: '30px',\n      marginBottom: '40px'\n    },\n    card: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '30px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      cursor: 'pointer',\n      transition: 'transform 0.2s'\n    },\n    cardHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '20px',\n      fontSize: '1.5rem',\n      fontWeight: '600'\n    },\n    cardText: {\n      color: '#6b7280',\n      marginBottom: '20px',\n      lineHeight: '1.6'\n    },\n    button: {\n      width: '100%',\n      padding: '12px 20px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: '600',\n      fontSize: '1rem',\n      cursor: 'pointer',\n      color: 'white'\n    },\n    gameHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '30px',\n      flexWrap: 'wrap',\n      gap: '20px'\n    },\n    navButton: {\n      display: 'flex',\n      alignItems: 'center',\n      background: 'none',\n      border: 'none',\n      color: '#a16207',\n      fontSize: '1rem',\n      cursor: 'pointer'\n    },\n    gameTitle: {\n      textAlign: 'center'\n    },\n    gameLayout: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      gap: '30px',\n      flexWrap: 'wrap'\n    },\n    boardContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px'\n    },\n    boardWrapper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      position: 'relative'\n    },\n    board: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(8, 1fr)',\n      gridTemplateRows: 'repeat(8, 1fr)',\n      width: isMobile ? '350px' : '500px',\n      height: isMobile ? '350px' : '500px',\n      border: '3px solid #8B4513',\n      borderRadius: '4px',\n      overflow: 'hidden',\n      boxShadow: '0 4px 20px rgba(0, 0, 0, 0.3)'\n    },\n    square: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: isMobile ? '2.8rem' : '3.8rem',\n      cursor: 'pointer',\n      transition: 'background-color 0.15s ease, border 0.15s ease',\n      userSelect: 'none',\n      fontWeight: 'bold',\n      width: '100%',\n      height: '100%',\n      minWidth: 0,\n      minHeight: 0,\n      boxSizing: 'border-box'\n    },\n    sidebar: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '20px',\n      width: isMobile ? '100%' : '350px',\n      maxWidth: '500px'\n    },\n    infoCard: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '20px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n    },\n    infoTitle: {\n      fontSize: '1.2rem',\n      fontWeight: '600',\n      marginBottom: '15px',\n      color: '#374151'\n    }\n  };\n\n  if (gameMode === 'menu') {\n    return (\n      <div style={styles.container}>\n        <div style={styles.wrapper}>\n          <div style={styles.header}>\n            <h1 style={styles.title}>Chess Opening Trainer</h1>\n            <p style={styles.subtitle}>Master your favorite openings against AI opposition</p>\n          </div>\n\n          <div style={styles.grid}>\n            <div style={styles.card} onClick={() => startTraining('sicilianDragon')}>\n              <div style={{...styles.cardHeader, color: '#dc2626'}}>\n                <Target size={24} />\n                <h2 style={{marginLeft: '10px'}}>Sicilian Dragon</h2>\n              </div>\n              <p style={styles.cardText}>Practice the Accelerated Dragon as Black. White moves automatically - you learn the best responses!</p>\n              <button style={{...styles.button, backgroundColor: '#dc2626'}}>\n                Train as Black\n              </button>\n            </div>\n\n            <div style={styles.card} onClick={() => startTraining('scotchGame')}>\n              <div style={{...styles.cardHeader, color: '#2563eb'}}>\n                <BookOpen size={24} />\n                <h2 style={{marginLeft: '10px'}}>Scotch Game</h2>\n              </div>\n              <p style={styles.cardText}>Learn the Scotch Game as White. Black moves automatically - focus on mastering your attacking lines!</p>\n              <button style={{...styles.button, backgroundColor: '#2563eb'}}>\n                Train as White\n              </button>\n            </div>\n\n            <div style={styles.card} onClick={() => startTraining('scotchGambit')}>\n              <div style={{...styles.cardHeader, color: '#16a34a'}}>\n                <Play size={24} />\n                <h2 style={{marginLeft: '10px'}}>Scotch Gambit</h2>\n              </div>\n              <p style={styles.cardText}>Master the Scotch Gambit as White. Black responds automatically - learn the aggressive sacrificial lines!</p>\n              <button style={{...styles.button, backgroundColor: '#16a34a'}}>\n                Train as White\n              </button>\n            </div>\n          </div>\n\n          <div style={{background: 'white', borderRadius: '12px', padding: '30px', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'}}>\n            <h3 style={{fontSize: '1.5rem', marginBottom: '20px', color: '#374151'}}>How it works</h3>\n            <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '20px'}}>\n              <div>\n                <h4 style={{fontWeight: '600', marginBottom: '10px', color: '#374151'}}>🎯 Focus on Your Side</h4>\n                <p style={{color: '#6b7280', fontSize: '0.9rem', lineHeight: '1.5'}}>The opponent moves automatically based on opening theory. You only need to learn your moves!</p>\n              </div>\n              <div>\n                <h4 style={{fontWeight: '600', marginBottom: '10px', color: '#374151'}}>🤖 Smart AI Responses</h4>\n                <p style={{color: '#6b7280', fontSize: '0.9rem', lineHeight: '1.5'}}>AI plays realistic variations from grandmaster games. Learn to handle different responses.</p>\n              </div>\n              <div>\n                <h4 style={{fontWeight: '600', marginBottom: '10px', color: '#374151'}}>📈 Immediate Feedback</h4>\n                <p style={{color: '#6b7280', fontSize: '0.9rem', lineHeight: '1.5'}}>Get instant feedback on your moves. Learn the best responses for each position.</p>\n              </div>\n            </div>\n            <div style={{marginTop: '20px', padding: '15px', backgroundColor: '#f0f9ff', borderRadius: '8px', border: '1px solid #0ea5e9'}}>\n              <p style={{color: '#0c4a6e', fontSize: '0.9rem', textAlign: 'center'}}>\n                <strong>💡 Tip:</strong> Wait for the opponent to move automatically, then make your best move. The AI will show you when it's your turn!\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const opening = openingDatabases[trainingMode];\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.wrapper}>\n        <div style={styles.gameHeader}>\n          <button style={styles.navButton} onClick={backToMenu}>\n            <ChevronLeft size={20} style={{marginRight: '5px'}} />\n            Back to Menu\n          </button>\n\n          <div style={styles.gameTitle}>\n            <h2 style={{fontSize: '2rem', color: '#92400e', marginBottom: '5px'}}>\n              {opening.name}\n            </h2>\n            <p style={{color: '#a16207'}}>Playing as {opening.color}</p>\n          </div>\n\n          <button style={styles.navButton} onClick={resetGame}>\n            <RotateCcw size={20} style={{marginRight: '5px'}} />\n            Reset\n          </button>\n        </div>\n\n        <div style={styles.gameLayout}>\n          <div style={styles.boardContainer}>\n            <div style={styles.boardWrapper}>\n              {/* Board orientation indicator */}\n              {trainingMode && (\n                <div style={{\n                  marginBottom: '10px',\n                  textAlign: 'center',\n                  color: '#a16207',\n                  fontSize: '0.9rem',\n                  fontWeight: '600'\n                }}>\n                  {openingDatabases[trainingMode].color === 'black'\n                    ? '♟ Playing as Black (Black pieces at bottom)'\n                    : '♙ Playing as White (White pieces at bottom)'\n                  }\n                </div>\n              )}\n\n              <div style={styles.board}>\n                {board.flatMap((row, rowIndex) =>\n                  row.map((piece, colIndex) => {\n                    // Get display coordinates (potentially flipped)\n                    const [displayRow, displayCol] = getDisplayCoordinates(rowIndex, colIndex);\n                    const isLightSquare = (displayRow + displayCol) % 2 === 0;\n                    const isSelected = selectedSquare && selectedSquare[0] === rowIndex && selectedSquare[1] === colIndex;\n\n                    // Chess.com style colors\n                    let backgroundColor;\n                    if (isSelected) {\n                      backgroundColor = '#f7dc6f'; // Yellow highlight for selected\n                    } else {\n                      backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863'; // Chess.com colors\n                    }\n\n                    // Enhanced piece styling for chess.com look\n                    const pieceColor = isPieceWhite(piece) ? '#ffffff' : '#000000';\n                    const textShadow = isPieceWhite(piece)\n                      ? '1px 1px 2px rgba(0,0,0,0.8), 0 0 3px rgba(0,0,0,0.3)'\n                      : '1px 1px 2px rgba(255,255,255,0.4), 0 0 2px rgba(255,255,255,0.2)';\n\n                    return (\n                      <div\n                        key={`${rowIndex}-${colIndex}`}\n                        style={{\n                          ...styles.square,\n                          backgroundColor,\n                          border: isSelected ? '2px solid #f39c12' : 'none',\n                          color: pieceColor,\n                          textShadow: piece ? textShadow : 'none',\n                          // Position this square at its display coordinates\n                          gridColumn: displayCol + 1,\n                          gridRow: displayRow + 1\n                        }}\n                        onClick={() => handleSquareClick(displayRow, displayCol)}\n                        onMouseEnter={(e) => {\n                          if (!isSelected) {\n                            e.target.style.backgroundColor = isLightSquare ? '#ead5aa' : '#a67c52';\n                          }\n                        }}\n                        onMouseLeave={(e) => {\n                          if (!isSelected) {\n                            e.target.style.backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863';\n                          }\n                        }}\n                      >\n                        {piece && pieceSymbols[piece]}\n                      </div>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div style={styles.sidebar}>\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Game Status</h3>\n              <p style={{marginBottom: '8px', color: '#6b7280'}}>\n                Current turn: <span style={{textTransform: 'capitalize', fontWeight: '600', color: '#374151'}}>{currentPlayer}</span>\n              </p>\n              <p style={{color: '#6b7280'}}>Move: {Math.ceil(moveHistory.length / 2)}</p>\n              <p style={{marginTop: '8px', fontWeight: '600', color:\n                ((opening.color === 'white' && currentPlayer === 'white') ||\n                 (opening.color === 'black' && currentPlayer === 'black')) ? '#16a34a' : '#ea580c'\n              }}>\n                {((opening.color === 'white' && currentPlayer === 'white') ||\n                  (opening.color === 'black' && currentPlayer === 'black')) ? 'Your turn!' : 'Opponent thinking...'}\n              </p>\n            </div>\n\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Score</h3>\n              <p style={{fontSize: '1.5rem', fontWeight: 'bold', color: '#374151', marginBottom: '8px'}}>\n                {score.correct}/{score.total}\n              </p>\n              <p style={{fontSize: '0.9rem', color: '#6b7280'}}>\n                {score.total > 0 ? `${Math.round((score.correct / score.total) * 100)}% accuracy` : 'No moves yet'}\n              </p>\n            </div>\n\n            {feedback && (\n              <div style={{\n                borderRadius: '12px',\n                padding: '20px',\n                fontWeight: '600',\n                backgroundColor: feedback.includes('✓') ? '#dcfce7' : '#fef2f2',\n                color: feedback.includes('✓') ? '#166534' : '#991b1b',\n                border: feedback.includes('✓') ? '2px solid #22c55e' : '2px solid #ef4444'\n              }}>\n                <p>{feedback}</p>\n              </div>\n            )}\n\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Move History</h3>\n              <div style={{maxHeight: '200px', overflowY: 'auto', fontSize: '0.9rem'}}>\n                {moveHistory.length === 0 ? (\n                  <p style={{color: '#9ca3af', fontStyle: 'italic'}}>No moves yet</p>\n                ) : (\n                  moveHistory.map((move, index) => (\n                    <div key={index} style={{display: 'flex', marginBottom: '4px'}}>\n                      <span style={{width: '30px', color: '#9ca3af'}}>{Math.ceil((index + 1) / 2)}.</span>\n                      <span style={{color: index % 2 === 0 ? '#374151' : '#6b7280'}}>\n                        {move}\n                      </span>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChessTrainingApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}