{"ast":null,"code":"var _jsxFileName = \"/Users/tgira1018/chess-training-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ChevronLeft, RotateCcw, Play, BookOpen, Target } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChessTrainingApp = () => {\n  _s();\n  // State for responsive design\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Initial board setup\n  const initialBoard = [['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'], ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'], ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']];\n  const [board, setBoard] = useState(initialBoard);\n  const [selectedSquare, setSelectedSquare] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('white');\n  const [moveHistory, setMoveHistory] = useState([]);\n  const [gameMode, setGameMode] = useState('menu');\n  const [trainingMode, setTrainingMode] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState({\n    correct: 0,\n    total: 0\n  });\n\n  // Opening databases\n  const openingDatabases = {\n    sicilianDragon: {\n      name: \"Sicilian Defence - Accelerated Dragon\",\n      color: \"black\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"c7-c5\"],\n        \"e2-e4,c7-c5\": [\"g1-f3\"],\n        \"e2-e4,c7-c5,g1-f3\": [\"g7-g6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6\": [\"d2-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4\": [\"c5-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4\": [\"f3-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4\": [\"f8-g7\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7\": [\"c2-c4\", \"b1-c3\", \"f2-f3\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,c2-c4\": [\"b8-c6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,b1-c3\": [\"b8-c6\"]\n      }\n    },\n    scotchGame: {\n      name: \"Scotch Game\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f3-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4\": [\"f8-c5\", \"g8-f6\", \"d8-h4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,f8-c5\": [\"d4-b5\", \"d4-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,g8-f6\": [\"d4-c6\", \"b1-c3\"]\n      }\n    },\n    scotchGambit: {\n      name: \"Scotch Gambit\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f1-c4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4\": [\"f8-c5\", \"g8-f6\", \"f7-f5\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,f8-c5\": [\"c2-c3\", \"e1-g1\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,g8-f6\": [\"e4-e5\", \"c2-c3\"]\n      }\n    }\n  };\n\n  // Piece Unicode symbols (chess.com style)\n  const pieceSymbols = {\n    'K': '♔',\n    'Q': '♕',\n    'R': '♖',\n    'B': '♗',\n    'N': '♘',\n    'P': '♙',\n    'k': '♚',\n    'q': '♛',\n    'r': '♜',\n    'b': '♝',\n    'n': '♞',\n    'p': '♟'\n  };\n\n  // Helper function to get display coordinates (flipped for black)\n  const getDisplayCoordinates = (row, col) => {\n    var _openingDatabases$tra;\n    if (trainingMode && ((_openingDatabases$tra = openingDatabases[trainingMode]) === null || _openingDatabases$tra === void 0 ? void 0 : _openingDatabases$tra.color) === 'black') {\n      // Flip the board when playing as black\n      return [7 - row, 7 - col];\n    }\n    return [row, col];\n  };\n\n  // Helper function to get board coordinates from display coordinates\n  const getBoardCoordinates = (displayRow, displayCol) => {\n    var _openingDatabases$tra2;\n    if (trainingMode && ((_openingDatabases$tra2 = openingDatabases[trainingMode]) === null || _openingDatabases$tra2 === void 0 ? void 0 : _openingDatabases$tra2.color) === 'black') {\n      // Flip back to get actual board coordinates\n      return [7 - displayRow, 7 - displayCol];\n    }\n    return [displayRow, displayCol];\n  };\n  const getSquareName = (row, col) => {\n    return String.fromCharCode(97 + col) + (8 - row);\n  };\n  const parseSquareName = square => {\n    const col = square.charCodeAt(0) - 97;\n    const row = 8 - parseInt(square[1]);\n    return [row, col];\n  };\n  const isPieceWhite = piece => piece && piece === piece.toUpperCase();\n  const isValidMove = (fromRow, fromCol, toRow, toCol, piece) => {\n    if (toRow < 0 || toRow >= 8 || toCol < 0 || toCol >= 8) return false;\n    const targetPiece = board[toRow][toCol];\n    if (targetPiece && isPieceWhite(piece) === isPieceWhite(targetPiece)) return false;\n    const rowDiff = Math.abs(toRow - fromRow);\n    const colDiff = Math.abs(toCol - fromCol);\n    const piece_type = piece.toLowerCase();\n    switch (piece_type) {\n      case 'p':\n        const direction = isPieceWhite(piece) ? -1 : 1;\n        const startRow = isPieceWhite(piece) ? 6 : 1;\n        if (toCol === fromCol) {\n          if (toRow === fromRow + direction && !targetPiece) return true;\n          if (fromRow === startRow && toRow === fromRow + 2 * direction && !targetPiece) return true;\n        } else if (Math.abs(toCol - fromCol) === 1 && toRow === fromRow + direction) {\n          return !!targetPiece;\n        }\n        return false;\n      case 'r':\n        return (rowDiff === 0 || colDiff === 0) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'n':\n        return rowDiff === 2 && colDiff === 1 || rowDiff === 1 && colDiff === 2;\n      case 'b':\n        return rowDiff === colDiff && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'q':\n        return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n      case 'k':\n        return rowDiff <= 1 && colDiff <= 1;\n      default:\n        return false;\n    }\n  };\n  const isPathBlocked = (fromRow, fromCol, toRow, toCol) => {\n    const rowDir = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\n    const colDir = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\n    let currentRow = fromRow + rowDir;\n    let currentCol = fromCol + colDir;\n    while (currentRow !== toRow || currentCol !== toCol) {\n      if (board[currentRow][currentCol]) return true;\n      currentRow += rowDir;\n      currentCol += colDir;\n    }\n    return false;\n  };\n  const makeMove = (fromRow, fromCol, toRow, toCol) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n    console.log(`Making move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n    setBoard(newBoard);\n    setMoveHistory(prev => {\n      const newHistory = [...prev, moveNotation];\n      console.log('Updated move history:', newHistory);\n      return newHistory;\n    });\n    setCurrentPlayer(currentPlayer === 'white' ? 'black' : 'white');\n    return moveNotation;\n  };\n  const makeOpponentMove = useCallback(() => {\n    console.log('makeOpponentMove called');\n    console.log('Current moveHistory when making opponent move:', moveHistory);\n    const opening = openingDatabases[trainingMode];\n    const nextMoveKey = moveHistory.join(',');\n    const opponentMoves = opening.moves[nextMoveKey];\n    console.log('Looking for opponent move with key:', `\"${nextMoveKey}\"`);\n    console.log('Available moves for this key:', opponentMoves);\n    console.log('All available keys in database:', Object.keys(opening.moves));\n    if (opponentMoves && opponentMoves.length > 0) {\n      // Wait a bit to simulate thinking time\n      setTimeout(() => {\n        const opponentMove = opponentMoves[Math.floor(Math.random() * opponentMoves.length)];\n        console.log('Selected opponent move:', opponentMove);\n        const [fromSquare, toSquare] = opponentMove.split('-');\n        const [fromRow, fromCol] = parseSquareName(fromSquare);\n        const [toRow, toCol] = parseSquareName(toSquare);\n        console.log(`Opponent moving from ${fromSquare} to ${toSquare}`);\n\n        // Make the opponent move\n        makeMove(fromRow, fromCol, toRow, toCol);\n        setFeedback('Your turn!');\n      }, 600);\n    } else {\n      console.log('No opponent moves found for key:', `\"${nextMoveKey}\"`);\n      setFeedback('End of opening line - great job!');\n    }\n  }, [moveHistory, trainingMode, openingDatabases, makeMove, parseSquareName, setFeedback]);\n  const handleSquareClick = (row, col) => {\n    if (gameMode !== 'training') return;\n    const piece = board[row][col];\n    if (selectedSquare) {\n      const [fromRow, fromCol] = selectedSquare;\n      const fromPiece = board[fromRow][fromCol];\n      if (row === fromRow && col === fromCol) {\n        setSelectedSquare(null);\n        return;\n      }\n      if (isValidMove(fromRow, fromCol, row, col, fromPiece)) {\n        const userMove = makeMove(fromRow, fromCol, row, col);\n        checkMove(userMove);\n        setSelectedSquare(null);\n      } else {\n        setSelectedSquare(piece && isPieceWhite(piece) === (currentPlayer === 'white') ? [row, col] : null);\n      }\n    } else {\n      if (piece && isPieceWhite(piece) === (currentPlayer === 'white')) {\n        setSelectedSquare([row, col]);\n      }\n    }\n  };\n  const checkMove = userMove => {\n    const opening = openingDatabases[trainingMode];\n    const moveKey = moveHistory.slice(0, -1).join(',');\n    const expectedMoves = opening.moves[moveKey] || [];\n    if (expectedMoves.includes(userMove)) {\n      setFeedback('✓ Correct move!');\n      setScore(prev => ({\n        correct: prev.correct + 1,\n        total: prev.total + 1\n      }));\n      setTimeout(() => {\n        const nextMoveKey = moveHistory.join(',');\n        const aiMoves = opening.moves[nextMoveKey];\n        if (aiMoves && aiMoves.length > 0) {\n          const aiMove = aiMoves[Math.floor(Math.random() * aiMoves.length)];\n          const [fromSquare, toSquare] = aiMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n          makeMove(fromRow, fromCol, toRow, toCol);\n        }\n        setFeedback('');\n      }, 1000);\n    } else {\n      setFeedback(`✗ Not the best move. Try: ${expectedMoves.join(' or ')}`);\n      setScore(prev => ({\n        correct: prev.correct,\n        total: prev.total + 1\n      }));\n    }\n  };\n  const startTraining = mode => {\n    setTrainingMode(mode);\n    setGameMode('training');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setCurrentPlayer('white');\n    setSelectedSquare(null);\n    setFeedback('');\n    setScore({\n      correct: 0,\n      total: 0\n    });\n  };\n  const resetGame = () => {\n    console.log('Resetting game');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n\n    // Reset to correct starting player and make first move if needed\n    const opening = openingDatabases[trainingMode];\n    if (opening.color === 'black') {\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after reset\n      setTimeout(() => {\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n          console.log(`Reset: Making first move ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n  const backToMenu = () => {\n    setGameMode('menu');\n    setTrainingMode(null);\n  };\n\n  // Styles\n  const styles = {\n    container: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #fef7cd 0%, #fed7aa 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'\n    },\n    wrapper: {\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    header: {\n      textAlign: 'center',\n      marginBottom: '40px'\n    },\n    title: {\n      fontSize: '2.5rem',\n      color: '#92400e',\n      marginBottom: '10px',\n      fontWeight: 'bold'\n    },\n    subtitle: {\n      color: '#a16207',\n      fontSize: '1.1rem'\n    },\n    grid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n      gap: '30px',\n      marginBottom: '40px'\n    },\n    card: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '30px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      cursor: 'pointer',\n      transition: 'transform 0.2s'\n    },\n    cardHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '20px',\n      fontSize: '1.5rem',\n      fontWeight: '600'\n    },\n    cardText: {\n      color: '#6b7280',\n      marginBottom: '20px',\n      lineHeight: '1.6'\n    },\n    button: {\n      width: '100%',\n      padding: '12px 20px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: '600',\n      fontSize: '1rem',\n      cursor: 'pointer',\n      color: 'white'\n    },\n    gameHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '30px',\n      flexWrap: 'wrap',\n      gap: '20px'\n    },\n    navButton: {\n      display: 'flex',\n      alignItems: 'center',\n      background: 'none',\n      border: 'none',\n      color: '#a16207',\n      fontSize: '1rem',\n      cursor: 'pointer'\n    },\n    gameTitle: {\n      textAlign: 'center'\n    },\n    gameLayout: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      gap: '30px',\n      flexWrap: 'wrap'\n    },\n    boardContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px'\n    },\n    boardWrapper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      position: 'relative'\n    },\n    board: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(8, 1fr)',\n      gridTemplateRows: 'repeat(8, 1fr)',\n      width: isMobile ? '350px' : '500px',\n      height: isMobile ? '350px' : '500px',\n      border: '3px solid #8B4513',\n      borderRadius: '4px',\n      overflow: 'hidden',\n      boxShadow: '0 4px 20px rgba(0, 0, 0, 0.3)'\n    },\n    square: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: isMobile ? '2.8rem' : '3.8rem',\n      cursor: 'pointer',\n      transition: 'background-color 0.15s ease, border 0.15s ease',\n      userSelect: 'none',\n      fontWeight: 'bold',\n      width: '100%',\n      height: '100%',\n      minWidth: 0,\n      minHeight: 0,\n      boxSizing: 'border-box'\n    },\n    sidebar: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '20px',\n      width: isMobile ? '100%' : '350px',\n      maxWidth: '500px'\n    },\n    infoCard: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '20px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n    },\n    infoTitle: {\n      fontSize: '1.2rem',\n      fontWeight: '600',\n      marginBottom: '15px',\n      color: '#374151'\n    }\n  };\n  if (gameMode === 'menu') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.header,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: styles.title,\n            children: \"Chess Opening Trainer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.subtitle,\n            children: \"Master your favorite openings against AI opposition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.grid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('sicilianDragon'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#dc2626'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Target, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Sicilian Dragon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Practice the Accelerated Dragon as Black. White moves automatically - you learn the best responses!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#dc2626'\n              },\n              children: \"Train as Black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('scotchGame'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#2563eb'\n              },\n              children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Scotch Game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Learn the Scotch Game as White. Black moves automatically - focus on mastering your attacking lines!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#2563eb'\n              },\n              children: \"Train as White\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.card,\n            onClick: () => startTraining('scotchGambit'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.cardHeader,\n                color: '#16a34a'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Scotch Gambit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.cardText,\n              children: \"Master the Scotch Gambit as White. Black responds automatically - learn the aggressive sacrificial lines!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.button,\n                backgroundColor: '#16a34a'\n              },\n              children: \"Train as White\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this);\n  }\n  const opening = openingDatabases[trainingMode];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.gameHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.navButton,\n          onClick: backToMenu,\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 20,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), \"Back to Menu\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.gameTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '2rem',\n              color: '#92400e',\n              marginBottom: '5px'\n            },\n            children: opening.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#a16207'\n            },\n            children: [\"Playing as \", opening.color]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.navButton,\n          onClick: resetGame,\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 20,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), \"Reset\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.gameLayout,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.boardContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.boardWrapper,\n            children: [trainingMode && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '10px',\n                textAlign: 'center',\n                color: '#a16207',\n                fontSize: '0.9rem',\n                fontWeight: '600'\n              },\n              children: openingDatabases[trainingMode].color === 'black' ? '♟ Playing as Black (Black pieces at bottom)' : '♙ Playing as White (White pieces at bottom)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.board,\n              children: board.flatMap((row, rowIndex) => row.map((piece, colIndex) => {\n                // Get display coordinates (potentially flipped)\n                const [displayRow, displayCol] = getDisplayCoordinates(rowIndex, colIndex);\n                const isLightSquare = (displayRow + displayCol) % 2 === 0;\n                const isSelected = selectedSquare && selectedSquare[0] === rowIndex && selectedSquare[1] === colIndex;\n\n                // Chess.com style colors\n                let backgroundColor;\n                if (isSelected) {\n                  backgroundColor = '#f7dc6f'; // Yellow highlight for selected\n                } else {\n                  backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863'; // Chess.com colors\n                }\n\n                // Enhanced piece styling for chess.com look\n                const pieceColor = isPieceWhite(piece) ? '#ffffff' : '#000000';\n                const textShadow = isPieceWhite(piece) ? '1px 1px 2px rgba(0,0,0,0.8), 0 0 3px rgba(0,0,0,0.3)' : '1px 1px 2px rgba(255,255,255,0.4), 0 0 2px rgba(255,255,255,0.2)';\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.square,\n                    backgroundColor,\n                    border: isSelected ? '2px solid #f39c12' : 'none',\n                    color: pieceColor,\n                    textShadow: piece ? textShadow : 'none',\n                    // Position this square at its display coordinates\n                    gridColumn: displayCol + 1,\n                    gridRow: displayRow + 1\n                  },\n                  onClick: () => handleSquareClick(displayRow, displayCol),\n                  onMouseEnter: e => {\n                    if (!isSelected) {\n                      e.target.style.backgroundColor = isLightSquare ? '#ead5aa' : '#a67c52';\n                    }\n                  },\n                  onMouseLeave: e => {\n                    if (!isSelected) {\n                      e.target.style.backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863';\n                    }\n                  },\n                  children: piece && pieceSymbols[piece]\n                }, `${rowIndex}-${colIndex}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 23\n                }, this);\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.sidebar,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Game Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginBottom: '8px',\n                color: '#6b7280'\n              },\n              children: [\"Current turn: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  textTransform: 'capitalize',\n                  fontWeight: '600',\n                  color: '#374151'\n                },\n                children: currentPlayer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6b7280'\n              },\n              children: [\"Move: \", Math.ceil(moveHistory.length / 2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: '8px',\n                fontWeight: '600',\n                color: opening.color === 'white' && currentPlayer === 'white' || opening.color === 'black' && currentPlayer === 'black' ? '#16a34a' : '#ea580c'\n              },\n              children: opening.color === 'white' && currentPlayer === 'white' || opening.color === 'black' && currentPlayer === 'black' ? 'Your turn!' : 'Opponent thinking...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                color: '#374151',\n                marginBottom: '8px'\n              },\n              children: [score.correct, \"/\", score.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: '#6b7280'\n              },\n              children: score.total > 0 ? `${Math.round(score.correct / score.total * 100)}% accuracy` : 'No moves yet'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this), feedback && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              borderRadius: '12px',\n              padding: '20px',\n              fontWeight: '600',\n              backgroundColor: feedback.includes('✓') ? '#dcfce7' : '#fef2f2',\n              color: feedback.includes('✓') ? '#166534' : '#991b1b',\n              border: feedback.includes('✓') ? '2px solid #22c55e' : '2px solid #ef4444'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.infoTitle,\n              children: \"Move History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '200px',\n                overflowY: 'auto',\n                fontSize: '0.9rem'\n              },\n              children: moveHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#9ca3af',\n                  fontStyle: 'italic'\n                },\n                children: \"No moves yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this) : moveHistory.map((move, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  marginBottom: '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    width: '30px',\n                    color: '#9ca3af'\n                  },\n                  children: [Math.ceil((index + 1) / 2), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: index % 2 === 0 ? '#374151' : '#6b7280'\n                  },\n                  children: move\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 546,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessTrainingApp, \"ldS4zx57tgLxBgZv1vn5Kag4tYo=\");\n_c = ChessTrainingApp;\nexport default ChessTrainingApp;\nvar _c;\n$RefreshReg$(_c, \"ChessTrainingApp\");","map":{"version":3,"names":["React","useState","useEffect","ChevronLeft","RotateCcw","Play","BookOpen","Target","jsxDEV","_jsxDEV","ChessTrainingApp","_s","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","initialBoard","board","setBoard","selectedSquare","setSelectedSquare","currentPlayer","setCurrentPlayer","moveHistory","setMoveHistory","gameMode","setGameMode","trainingMode","setTrainingMode","feedback","setFeedback","score","setScore","correct","total","openingDatabases","sicilianDragon","name","color","moves","scotchGame","scotchGambit","pieceSymbols","getDisplayCoordinates","row","col","_openingDatabases$tra","getBoardCoordinates","displayRow","displayCol","_openingDatabases$tra2","getSquareName","String","fromCharCode","parseSquareName","square","charCodeAt","parseInt","isPieceWhite","piece","toUpperCase","isValidMove","fromRow","fromCol","toRow","toCol","targetPiece","rowDiff","Math","abs","colDiff","piece_type","toLowerCase","direction","startRow","isPathBlocked","rowDir","colDir","currentRow","currentCol","makeMove","newBoard","map","console","log","moveNotation","prev","newHistory","makeOpponentMove","useCallback","opening","nextMoveKey","join","opponentMoves","Object","keys","length","setTimeout","opponentMove","floor","random","fromSquare","toSquare","split","handleSquareClick","fromPiece","userMove","checkMove","moveKey","slice","expectedMoves","includes","aiMoves","aiMove","startTraining","mode","resetGame","firstMove","backToMenu","styles","container","minHeight","background","padding","fontFamily","wrapper","maxWidth","margin","header","textAlign","marginBottom","title","fontSize","fontWeight","subtitle","grid","display","gridTemplateColumns","gap","card","borderRadius","boxShadow","cursor","transition","cardHeader","alignItems","cardText","lineHeight","button","width","border","gameHeader","justifyContent","flexWrap","navButton","gameTitle","gameLayout","boardContainer","flexDirection","boardWrapper","position","gridTemplateRows","height","overflow","userSelect","minWidth","boxSizing","sidebar","infoCard","infoTitle","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","marginLeft","backgroundColor","marginRight","flatMap","rowIndex","colIndex","isLightSquare","isSelected","pieceColor","textShadow","gridColumn","gridRow","onMouseEnter","e","target","onMouseLeave","textTransform","ceil","marginTop","round","maxHeight","overflowY","fontStyle","move","index","_c","$RefreshReg$"],"sources":["/Users/tgira1018/chess-training-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ChevronLeft, RotateCcw, Play, BookOpen, Target } from 'lucide-react';\n\nconst ChessTrainingApp = () => {\n  // State for responsive design\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Initial board setup\n  const initialBoard = [\n    ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n    ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    [null, null, null, null, null, null, null, null],\n    ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n    ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']\n  ];\n\n  const [board, setBoard] = useState(initialBoard);\n  const [selectedSquare, setSelectedSquare] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('white');\n  const [moveHistory, setMoveHistory] = useState([]);\n  const [gameMode, setGameMode] = useState('menu');\n  const [trainingMode, setTrainingMode] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState({ correct: 0, total: 0 });\n\n  // Opening databases\n  const openingDatabases = {\n    sicilianDragon: {\n      name: \"Sicilian Defence - Accelerated Dragon\",\n      color: \"black\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"c7-c5\"],\n        \"e2-e4,c7-c5\": [\"g1-f3\"],\n        \"e2-e4,c7-c5,g1-f3\": [\"g7-g6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6\": [\"d2-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4\": [\"c5-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4\": [\"f3-d4\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4\": [\"f8-g7\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7\": [\"c2-c4\", \"b1-c3\", \"f2-f3\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,c2-c4\": [\"b8-c6\"],\n        \"e2-e4,c7-c5,g1-f3,g7-g6,d2-d4,c5-d4,f3-d4,f8-g7,b1-c3\": [\"b8-c6\"],\n      }\n    },\n    scotchGame: {\n      name: \"Scotch Game\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f3-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4\": [\"f8-c5\", \"g8-f6\", \"d8-h4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,f8-c5\": [\"d4-b5\", \"d4-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f3-d4,g8-f6\": [\"d4-c6\", \"b1-c3\"],\n      }\n    },\n    scotchGambit: {\n      name: \"Scotch Gambit\",\n      color: \"white\",\n      moves: {\n        \"\": [\"e2-e4\"],\n        \"e2-e4\": [\"e7-e5\"],\n        \"e2-e4,e7-e5\": [\"g1-f3\"],\n        \"e2-e4,e7-e5,g1-f3\": [\"b8-c6\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6\": [\"d2-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4\": [\"e5-d4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4\": [\"f1-c4\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4\": [\"f8-c5\", \"g8-f6\", \"f7-f5\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,f8-c5\": [\"c2-c3\", \"e1-g1\"],\n        \"e2-e4,e7-e5,g1-f3,b8-c6,d2-d4,e5-d4,f1-c4,g8-f6\": [\"e4-e5\", \"c2-c3\"],\n      }\n    }\n  };\n\n  // Piece Unicode symbols (chess.com style)\n  const pieceSymbols = {\n    'K': '♔', 'Q': '♕', 'R': '♖', 'B': '♗', 'N': '♘', 'P': '♙',\n    'k': '♚', 'q': '♛', 'r': '♜', 'b': '♝', 'n': '♞', 'p': '♟'\n  };\n\n  // Helper function to get display coordinates (flipped for black)\n  const getDisplayCoordinates = (row, col) => {\n    if (trainingMode && openingDatabases[trainingMode]?.color === 'black') {\n      // Flip the board when playing as black\n      return [7 - row, 7 - col];\n    }\n    return [row, col];\n  };\n\n  // Helper function to get board coordinates from display coordinates\n  const getBoardCoordinates = (displayRow, displayCol) => {\n    if (trainingMode && openingDatabases[trainingMode]?.color === 'black') {\n      // Flip back to get actual board coordinates\n      return [7 - displayRow, 7 - displayCol];\n    }\n    return [displayRow, displayCol];\n  };\n  const getSquareName = (row, col) => {\n    return String.fromCharCode(97 + col) + (8 - row);\n  };\n\n  const parseSquareName = (square) => {\n    const col = square.charCodeAt(0) - 97;\n    const row = 8 - parseInt(square[1]);\n    return [row, col];\n  };\n\n  const isPieceWhite = (piece) => piece && piece === piece.toUpperCase();\n\n  const isValidMove = (fromRow, fromCol, toRow, toCol, piece) => {\n    if (toRow < 0 || toRow >= 8 || toCol < 0 || toCol >= 8) return false;\n\n    const targetPiece = board[toRow][toCol];\n    if (targetPiece && isPieceWhite(piece) === isPieceWhite(targetPiece)) return false;\n\n    const rowDiff = Math.abs(toRow - fromRow);\n    const colDiff = Math.abs(toCol - fromCol);\n    const piece_type = piece.toLowerCase();\n\n    switch (piece_type) {\n      case 'p':\n        const direction = isPieceWhite(piece) ? -1 : 1;\n        const startRow = isPieceWhite(piece) ? 6 : 1;\n\n        if (toCol === fromCol) {\n          if (toRow === fromRow + direction && !targetPiece) return true;\n          if (fromRow === startRow && toRow === fromRow + 2 * direction && !targetPiece) return true;\n        } else if (Math.abs(toCol - fromCol) === 1 && toRow === fromRow + direction) {\n          return !!targetPiece;\n        }\n        return false;\n\n      case 'r':\n        return (rowDiff === 0 || colDiff === 0) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'n':\n        return (rowDiff === 2 && colDiff === 1) || (rowDiff === 1 && colDiff === 2);\n\n      case 'b':\n        return rowDiff === colDiff && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'q':\n        return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && !isPathBlocked(fromRow, fromCol, toRow, toCol);\n\n      case 'k':\n        return rowDiff <= 1 && colDiff <= 1;\n\n      default:\n        return false;\n    }\n  };\n\n  const isPathBlocked = (fromRow, fromCol, toRow, toCol) => {\n    const rowDir = toRow > fromRow ? 1 : toRow < fromRow ? -1 : 0;\n    const colDir = toCol > fromCol ? 1 : toCol < fromCol ? -1 : 0;\n\n    let currentRow = fromRow + rowDir;\n    let currentCol = fromCol + colDir;\n\n    while (currentRow !== toRow || currentCol !== toCol) {\n      if (board[currentRow][currentCol]) return true;\n      currentRow += rowDir;\n      currentCol += colDir;\n    }\n\n    return false;\n  };\n\n  const makeMove = (fromRow, fromCol, toRow, toCol) => {\n    const newBoard = board.map(row => [...row]);\n    const piece = newBoard[fromRow][fromCol];\n\n    console.log(`Making move: ${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)} (${piece})`);\n\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = null;\n\n    const moveNotation = `${getSquareName(fromRow, fromCol)}-${getSquareName(toRow, toCol)}`;\n\n    setBoard(newBoard);\n    setMoveHistory(prev => {\n      const newHistory = [...prev, moveNotation];\n      console.log('Updated move history:', newHistory);\n      return newHistory;\n    });\n    setCurrentPlayer(currentPlayer === 'white' ? 'black' : 'white');\n\n    return moveNotation;\n  };\n\n  const makeOpponentMove = useCallback(() => {\n    console.log('makeOpponentMove called');\n    console.log('Current moveHistory when making opponent move:', moveHistory);\n\n    const opening = openingDatabases[trainingMode];\n    const nextMoveKey = moveHistory.join(',');\n    const opponentMoves = opening.moves[nextMoveKey];\n\n    console.log('Looking for opponent move with key:', `\"${nextMoveKey}\"`);\n    console.log('Available moves for this key:', opponentMoves);\n    console.log('All available keys in database:', Object.keys(opening.moves));\n\n    if (opponentMoves && opponentMoves.length > 0) {\n      // Wait a bit to simulate thinking time\n      setTimeout(() => {\n        const opponentMove = opponentMoves[Math.floor(Math.random() * opponentMoves.length)];\n        console.log('Selected opponent move:', opponentMove);\n        const [fromSquare, toSquare] = opponentMove.split('-');\n        const [fromRow, fromCol] = parseSquareName(fromSquare);\n        const [toRow, toCol] = parseSquareName(toSquare);\n\n        console.log(`Opponent moving from ${fromSquare} to ${toSquare}`);\n\n        // Make the opponent move\n        makeMove(fromRow, fromCol, toRow, toCol);\n        setFeedback('Your turn!');\n      }, 600);\n    } else {\n      console.log('No opponent moves found for key:', `\"${nextMoveKey}\"`);\n      setFeedback('End of opening line - great job!');\n    }\n  }, [moveHistory, trainingMode, openingDatabases, makeMove, parseSquareName, setFeedback]);\n\n  const handleSquareClick = (row, col) => {\n    if (gameMode !== 'training') return;\n\n    const piece = board[row][col];\n\n    if (selectedSquare) {\n      const [fromRow, fromCol] = selectedSquare;\n      const fromPiece = board[fromRow][fromCol];\n\n      if (row === fromRow && col === fromCol) {\n        setSelectedSquare(null);\n        return;\n      }\n\n      if (isValidMove(fromRow, fromCol, row, col, fromPiece)) {\n        const userMove = makeMove(fromRow, fromCol, row, col);\n        checkMove(userMove);\n        setSelectedSquare(null);\n      } else {\n        setSelectedSquare(piece && isPieceWhite(piece) === (currentPlayer === 'white') ? [row, col] : null);\n      }\n    } else {\n      if (piece && isPieceWhite(piece) === (currentPlayer === 'white')) {\n        setSelectedSquare([row, col]);\n      }\n    }\n  };\n\n  const checkMove = (userMove) => {\n    const opening = openingDatabases[trainingMode];\n    const moveKey = moveHistory.slice(0, -1).join(',');\n    const expectedMoves = opening.moves[moveKey] || [];\n\n    if (expectedMoves.includes(userMove)) {\n      setFeedback('✓ Correct move!');\n      setScore(prev => ({ correct: prev.correct + 1, total: prev.total + 1 }));\n\n      setTimeout(() => {\n        const nextMoveKey = moveHistory.join(',');\n        const aiMoves = opening.moves[nextMoveKey];\n        if (aiMoves && aiMoves.length > 0) {\n          const aiMove = aiMoves[Math.floor(Math.random() * aiMoves.length)];\n          const [fromSquare, toSquare] = aiMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n          makeMove(fromRow, fromCol, toRow, toCol);\n        }\n        setFeedback('');\n      }, 1000);\n    } else {\n      setFeedback(`✗ Not the best move. Try: ${expectedMoves.join(' or ')}`);\n      setScore(prev => ({ correct: prev.correct, total: prev.total + 1 }));\n    }\n  };\n\n  const startTraining = (mode) => {\n    setTrainingMode(mode);\n    setGameMode('training');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setCurrentPlayer('white');\n    setSelectedSquare(null);\n    setFeedback('');\n    setScore({ correct: 0, total: 0 });\n  };\n\n  const resetGame = () => {\n    console.log('Resetting game');\n    setBoard(initialBoard);\n    setMoveHistory([]);\n    setSelectedSquare(null);\n    setFeedback('');\n\n    // Reset to correct starting player and make first move if needed\n    const opening = openingDatabases[trainingMode];\n    if (opening.color === 'black') {\n      setCurrentPlayer('white');\n      setFeedback('White is making the first move...');\n\n      // Make the first white move automatically after reset\n      setTimeout(() => {\n        const firstMove = opening.moves[\"\"][0]; // Should be \"e2-e4\"\n\n        if (firstMove) {\n          const [fromSquare, toSquare] = firstMove.split('-');\n          const [fromRow, fromCol] = parseSquareName(fromSquare);\n          const [toRow, toCol] = parseSquareName(toSquare);\n\n          console.log(`Reset: Making first move ${fromSquare} to ${toSquare}`);\n\n          // Use makeMove to handle the first move properly\n          setTimeout(() => {\n            makeMove(fromRow, fromCol, toRow, toCol);\n            setFeedback('Your turn! Play 1...c5 for the Sicilian Defense.');\n          }, 100);\n        }\n      }, 1000);\n    } else {\n      setCurrentPlayer('white');\n      setFeedback('Your turn! Make your opening move.');\n    }\n  };\n\n  const backToMenu = () => {\n    setGameMode('menu');\n    setTrainingMode(null);\n  };\n\n  // Styles\n  const styles = {\n    container: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #fef7cd 0%, #fed7aa 100%)',\n      padding: '20px',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'\n    },\n    wrapper: {\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    header: {\n      textAlign: 'center',\n      marginBottom: '40px'\n    },\n    title: {\n      fontSize: '2.5rem',\n      color: '#92400e',\n      marginBottom: '10px',\n      fontWeight: 'bold'\n    },\n    subtitle: {\n      color: '#a16207',\n      fontSize: '1.1rem'\n    },\n    grid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n      gap: '30px',\n      marginBottom: '40px'\n    },\n    card: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '30px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      cursor: 'pointer',\n      transition: 'transform 0.2s'\n    },\n    cardHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '20px',\n      fontSize: '1.5rem',\n      fontWeight: '600'\n    },\n    cardText: {\n      color: '#6b7280',\n      marginBottom: '20px',\n      lineHeight: '1.6'\n    },\n    button: {\n      width: '100%',\n      padding: '12px 20px',\n      border: 'none',\n      borderRadius: '8px',\n      fontWeight: '600',\n      fontSize: '1rem',\n      cursor: 'pointer',\n      color: 'white'\n    },\n    gameHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '30px',\n      flexWrap: 'wrap',\n      gap: '20px'\n    },\n    navButton: {\n      display: 'flex',\n      alignItems: 'center',\n      background: 'none',\n      border: 'none',\n      color: '#a16207',\n      fontSize: '1rem',\n      cursor: 'pointer'\n    },\n    gameTitle: {\n      textAlign: 'center'\n    },\n    gameLayout: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      gap: '30px',\n      flexWrap: 'wrap'\n    },\n    boardContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '10px'\n    },\n    boardWrapper: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      position: 'relative'\n    },\n    board: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(8, 1fr)',\n      gridTemplateRows: 'repeat(8, 1fr)',\n      width: isMobile ? '350px' : '500px',\n      height: isMobile ? '350px' : '500px',\n      border: '3px solid #8B4513',\n      borderRadius: '4px',\n      overflow: 'hidden',\n      boxShadow: '0 4px 20px rgba(0, 0, 0, 0.3)'\n    },\n    square: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: isMobile ? '2.8rem' : '3.8rem',\n      cursor: 'pointer',\n      transition: 'background-color 0.15s ease, border 0.15s ease',\n      userSelect: 'none',\n      fontWeight: 'bold',\n      width: '100%',\n      height: '100%',\n      minWidth: 0,\n      minHeight: 0,\n      boxSizing: 'border-box'\n    },\n    sidebar: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '20px',\n      width: isMobile ? '100%' : '350px',\n      maxWidth: '500px'\n    },\n    infoCard: {\n      background: 'white',\n      borderRadius: '12px',\n      padding: '20px',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n    },\n    infoTitle: {\n      fontSize: '1.2rem',\n      fontWeight: '600',\n      marginBottom: '15px',\n      color: '#374151'\n    }\n  };\n\n  if (gameMode === 'menu') {\n    return (\n      <div style={styles.container}>\n        <div style={styles.wrapper}>\n          <div style={styles.header}>\n            <h1 style={styles.title}>Chess Opening Trainer</h1>\n            <p style={styles.subtitle}>Master your favorite openings against AI opposition</p>\n          </div>\n\n          <div style={styles.grid}>\n            <div style={styles.card} onClick={() => startTraining('sicilianDragon')}>\n              <div style={{...styles.cardHeader, color: '#dc2626'}}>\n                <Target size={24} />\n                <h2 style={{marginLeft: '10px'}}>Sicilian Dragon</h2>\n              </div>\n              <p style={styles.cardText}>Practice the Accelerated Dragon as Black. White moves automatically - you learn the best responses!</p>\n              <button style={{...styles.button, backgroundColor: '#dc2626'}}>\n                Train as Black\n              </button>\n            </div>\n\n            <div style={styles.card} onClick={() => startTraining('scotchGame')}>\n              <div style={{...styles.cardHeader, color: '#2563eb'}}>\n                <BookOpen size={24} />\n                <h2 style={{marginLeft: '10px'}}>Scotch Game</h2>\n              </div>\n              <p style={styles.cardText}>Learn the Scotch Game as White. Black moves automatically - focus on mastering your attacking lines!</p>\n              <button style={{...styles.button, backgroundColor: '#2563eb'}}>\n                Train as White\n              </button>\n            </div>\n\n            <div style={styles.card} onClick={() => startTraining('scotchGambit')}>\n              <div style={{...styles.cardHeader, color: '#16a34a'}}>\n                <Play size={24} />\n                <h2 style={{marginLeft: '10px'}}>Scotch Gambit</h2>\n              </div>\n              <p style={styles.cardText}>Master the Scotch Gambit as White. Black responds automatically - learn the aggressive sacrificial lines!</p>\n              <button style={{...styles.button, backgroundColor: '#16a34a'}}>\n                Train as White\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const opening = openingDatabases[trainingMode];\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.wrapper}>\n        <div style={styles.gameHeader}>\n          <button style={styles.navButton} onClick={backToMenu}>\n            <ChevronLeft size={20} style={{marginRight: '5px'}} />\n            Back to Menu\n          </button>\n\n          <div style={styles.gameTitle}>\n            <h2 style={{fontSize: '2rem', color: '#92400e', marginBottom: '5px'}}>\n              {opening.name}\n            </h2>\n            <p style={{color: '#a16207'}}>Playing as {opening.color}</p>\n          </div>\n\n          <button style={styles.navButton} onClick={resetGame}>\n            <RotateCcw size={20} style={{marginRight: '5px'}} />\n            Reset\n          </button>\n        </div>\n\n        <div style={styles.gameLayout}>\n          <div style={styles.boardContainer}>\n            <div style={styles.boardWrapper}>\n              {/* Board orientation indicator */}\n              {trainingMode && (\n                <div style={{\n                  marginBottom: '10px',\n                  textAlign: 'center',\n                  color: '#a16207',\n                  fontSize: '0.9rem',\n                  fontWeight: '600'\n                }}>\n                  {openingDatabases[trainingMode].color === 'black'\n                    ? '♟ Playing as Black (Black pieces at bottom)'\n                    : '♙ Playing as White (White pieces at bottom)'\n                  }\n                </div>\n              )}\n\n              <div style={styles.board}>\n                {board.flatMap((row, rowIndex) =>\n                  row.map((piece, colIndex) => {\n                    // Get display coordinates (potentially flipped)\n                    const [displayRow, displayCol] = getDisplayCoordinates(rowIndex, colIndex);\n                    const isLightSquare = (displayRow + displayCol) % 2 === 0;\n                    const isSelected = selectedSquare && selectedSquare[0] === rowIndex && selectedSquare[1] === colIndex;\n\n                    // Chess.com style colors\n                    let backgroundColor;\n                    if (isSelected) {\n                      backgroundColor = '#f7dc6f'; // Yellow highlight for selected\n                    } else {\n                      backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863'; // Chess.com colors\n                    }\n\n                    // Enhanced piece styling for chess.com look\n                    const pieceColor = isPieceWhite(piece) ? '#ffffff' : '#000000';\n                    const textShadow = isPieceWhite(piece)\n                      ? '1px 1px 2px rgba(0,0,0,0.8), 0 0 3px rgba(0,0,0,0.3)'\n                      : '1px 1px 2px rgba(255,255,255,0.4), 0 0 2px rgba(255,255,255,0.2)';\n\n                    return (\n                      <div\n                        key={`${rowIndex}-${colIndex}`}\n                        style={{\n                          ...styles.square,\n                          backgroundColor,\n                          border: isSelected ? '2px solid #f39c12' : 'none',\n                          color: pieceColor,\n                          textShadow: piece ? textShadow : 'none',\n                          // Position this square at its display coordinates\n                          gridColumn: displayCol + 1,\n                          gridRow: displayRow + 1\n                        }}\n                        onClick={() => handleSquareClick(displayRow, displayCol)}\n                        onMouseEnter={(e) => {\n                          if (!isSelected) {\n                            e.target.style.backgroundColor = isLightSquare ? '#ead5aa' : '#a67c52';\n                          }\n                        }}\n                        onMouseLeave={(e) => {\n                          if (!isSelected) {\n                            e.target.style.backgroundColor = isLightSquare ? '#f0d9b5' : '#b58863';\n                          }\n                        }}\n                      >\n                        {piece && pieceSymbols[piece]}\n                      </div>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div style={styles.sidebar}>\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Game Status</h3>\n              <p style={{marginBottom: '8px', color: '#6b7280'}}>\n                Current turn: <span style={{textTransform: 'capitalize', fontWeight: '600', color: '#374151'}}>{currentPlayer}</span>\n              </p>\n              <p style={{color: '#6b7280'}}>Move: {Math.ceil(moveHistory.length / 2)}</p>\n              <p style={{marginTop: '8px', fontWeight: '600', color:\n                ((opening.color === 'white' && currentPlayer === 'white') ||\n                 (opening.color === 'black' && currentPlayer === 'black')) ? '#16a34a' : '#ea580c'\n              }}>\n                {((opening.color === 'white' && currentPlayer === 'white') ||\n                  (opening.color === 'black' && currentPlayer === 'black')) ? 'Your turn!' : 'Opponent thinking...'}\n              </p>\n            </div>\n\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Score</h3>\n              <p style={{fontSize: '1.5rem', fontWeight: 'bold', color: '#374151', marginBottom: '8px'}}>\n                {score.correct}/{score.total}\n              </p>\n              <p style={{fontSize: '0.9rem', color: '#6b7280'}}>\n                {score.total > 0 ? `${Math.round((score.correct / score.total) * 100)}% accuracy` : 'No moves yet'}\n              </p>\n            </div>\n\n            {feedback && (\n              <div style={{\n                borderRadius: '12px',\n                padding: '20px',\n                fontWeight: '600',\n                backgroundColor: feedback.includes('✓') ? '#dcfce7' : '#fef2f2',\n                color: feedback.includes('✓') ? '#166534' : '#991b1b',\n                border: feedback.includes('✓') ? '2px solid #22c55e' : '2px solid #ef4444'\n              }}>\n                <p>{feedback}</p>\n              </div>\n            )}\n\n            <div style={styles.infoCard}>\n              <h3 style={styles.infoTitle}>Move History</h3>\n              <div style={{maxHeight: '200px', overflowY: 'auto', fontSize: '0.9rem'}}>\n                {moveHistory.length === 0 ? (\n                  <p style={{color: '#9ca3af', fontStyle: 'italic'}}>No moves yet</p>\n                ) : (\n                  moveHistory.map((move, index) => (\n                    <div key={index} style={{display: 'flex', marginBottom: '4px'}}>\n                      <span style={{width: '30px', color: '#9ca3af'}}>{Math.ceil((index + 1) / 2)}.</span>\n                      <span style={{color: index % 2 === 0 ? '#374151' : '#6b7280'}}>\n                        {move}\n                      </span>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChessTrainingApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}